#### 那么工作中我们更倾向于使用什么方法呢？

首先来回顾一下我们在业务中的模型会遇到什么问题。

- 模型效果不好（ks，或者其他一些指标不佳）
分析：大概率时数据的问题
- 训练集效果好，跨时间测试效果不好
分析：跨时间测试数据进模型的特征的分布情况变动有关，可以通过PSI得到反应。可以考虑先在跨时间测试数据集建模选特征。
- 跨时间测试效果也好，上线之后效果不好
分析：线上线下变量的逻辑不一样
- 上线之后效果还好，几周之后分数分布开始下滑
分析：类似于跨时间测试效果不好，个别变量分布变动
- 一两个月内都比较稳定，突然分数分布骤降
分析：主要是外部原因，国家政策，或者运营渠道拉新（不好的客户）
- 没有明显问题，但模型每个月逐步失效
分析：这是一个永恒的话题，业内大部分公司都会遇到




然后我们来考虑一下业务所需要的变量是什么。

- 变量必须对模型有贡献，也就是说必须能对客群加以区分
- 逻辑回归要求变量之间线性无关
- 逻辑回归评分卡也希望变量呈现单调趋势 （有一部分也是业务原因，但从模型角度来看，单调变量未必一定比有转折的变量好）
- 客群在每个变量上的分布稳定，分布迁移无可避免，但不能波动太大  

为此我们从上述方法中找到最贴合当前使用场景的几种方法：
1）变量重要性

- IV值
- 卡方检验
- 模型筛选

这里我们使用IV值或者模型筛选多一点
IV其实就是在WOE前面加上一项。
- $p_{y_i}=\frac{y_i}{y_T}$  
- $p_{n_i}=\frac{n_i}{n_T}$  
- $woe_i = ln(\frac{p_{y_i}}{p_{n_i}})$  
- $iv_i = (p_{y_i} - p_{n_i}) \times woe_i$    
最后只需要将每一个区间的iv加起来就得到总的iv值：
$$IV = \sum iv_i$$
